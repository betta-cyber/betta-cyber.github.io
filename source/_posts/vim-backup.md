---
title: VIM Quick Reference
abbrlink: 7a208146
date: 2023-03-24 22:00:00
---

# 在线查询网站

https://quickref.me/


# VIM 宏

步骤

1.把光标定位在第一行；

2.在normal模式下输入qa(当然也可以输入qb, qc, etc，这里的a, b, c是指寄存器名称，vim会把录制好的宏放在这个寄存器中);

3.正常情况下，vim的命令行会显示“开始录制”的字样，这时候，把光标定位到第一个字符（按0或者|），再按x删除，按j跳到下一行；

4.normal模式下输入q，结束宏录制。

经过以上步骤，我们定义了一个存储在寄存器a中的宏，它的操作序列是：0->x->j，也就是跳到行首，删除，跳到下一行。

现在，第一行已经删除了行首的逗号，而且光标也已经在第二行，现在，在normal模式下输入@a，以播放我们刚录制好的存在寄存器a中的宏。于是，第二行行首的逗号也被删除，光标停在了第三行。

前面加上执行次数， 如 7@a， 就可以执行 7 次。


# 批量替换
``` regex
:[addr]s/源字符串/目的字符串/[option]
```
全局替换命令为：
``` regex
:%s/源字符串/目的字符串/g
```

[addr] 表示检索范围，省略时表示当前行。
"1,20": 表示从第1行到20行；
"%": 表示整个文件，同“1,$”；
".,$": 从当前行到文件尾；

# 在每行行首或行尾添加/删除内容

``` regex
:%s/^/要添加的内容
```

``` regex
:%s/$/要添加的内容
```
