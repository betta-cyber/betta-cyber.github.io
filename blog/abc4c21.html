<!DOCTYPE html>
<html>
  <!DOCTYPE html>
<html lang="en">
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
  
  <title>MySQL Quick Reference - B</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
  
  <meta name="keywords" content=betta-cyber, game, betta, shokill>
  
    <meta name="description" content="betta">
  
  
    <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=1.02">
  
  
    <link rel="alternate" href="/atom.xml " title="B" type="application/atom+xml">
  

  

  

  <!-- <link rel="stylesheet" href="../css/style.css"> -->
  
<link rel="stylesheet" href="/css/style.css">


  <!--  -->
    <!-- <link rel="stylesheet" href="../css/font-awesome.min.css"> -->
  <!--  -->

  <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js"></script> -->
  <script type='text/javascript' id='clustrmaps' src='//cdn.clustrmaps.com/map_v2.js?cl=ffffff&w=0&t=n&d=b9cDq33TdEsfGb_DpY--uB2pjskzQ8TK9LaE3yuIYzE&co=ffffff&cmo=ffffff&cmn=ffffff&ct=ffffff'></script>
<meta name="generator" content="Hexo 5.4.1"></head>

  <body>
    <div class="container">
      <header class="header">
  <!-- <div class="blog-title">
    <a href="/" class="logo">B</a>
    <div class="subtitle"></div>
  </div> -->
  <nav class="navbar">
    <ul class="menu">
      
        <li class="menu-item">
          <a href="/" class="menu-item-link " >Home</a>
        </li>
      
        <li class="menu-item">
          <a href="/blog" class="menu-item-link active" >Blog</a>
        </li>
      
        <li class="menu-item">
          <a href="/ebook" class="menu-item-link " >Ebook</a>
        </li>
      
        <li class="menu-item">
          <a href="/music" class="menu-item-link " >Music</a>
        </li>
      
        <li class="menu-item">
          <a href="/about" class="menu-item-link " >About</a>
        </li>
      
    </ul>
  </nav>
</header>


<article class="post">
  <div class="post-title">
    <h1 class="article-title">MySQL Quick Reference</h1>
  </div>
  <div class="post-content">
    <h3 id="1-MySQL-解析-json"><a href="#1-MySQL-解析-json" class="headerlink" title="1. MySQL 解析 json"></a>1. MySQL 解析 <strong>json</strong></h3><pre><code class="highlight plaintext">select sum(json_extract(a.sec_count, &quot;$.Critical&quot;)) from `result` AS a
where
  task_id &gt; 20220931000999
  and task_id &lt; 20221231000999
  and a.sec_count != &#x27;&#x27;;</code></pre>


<ul>
<li>使用 字段-&gt;’$.json属性’进行查询条件</li>
<li>使用json_extract函数查询，json_extract(字段,”$.json属性”)</li>
<li>根据json数组查询，用JSON_CONTAINS(字段,JSON_OBJECT(‘json属性’, “内容”))</li>
</ul>
<p>容易出现的错误是，<strong>如果该字段为空或者空字符串</strong>，会出现解析不了的情况，要注意好判断条件。</p>
<h3 id="2-MySQL-varchar-转-int-类型-CAST-函数"><a href="#2-MySQL-varchar-转-int-类型-CAST-函数" class="headerlink" title="2. MySQL varchar 转 int 类型: CAST 函数"></a>2. MySQL varchar 转 int 类型: <strong>CAST</strong> 函数</h3><p>在使用CAST函数转换类型时，可以转换的类型是有限制的。这个类型可以是以下值其中的一个。也就是说，UNSIGNED 可以替换成：</p>
<p>二进制，同带binary前缀的效果 : BINARY<br>字符型，可带参数 : CHAR()<br>日期 : DATE<br>时间: TIME<br>日期时间型 : DATETIME<br>浮点数 : DECIMAL<br>整数 : SIGNED<br>无符号整数 : UNSIGNED</p>
<pre><code class="highlight plaintext">select max(cast(sex as UNSIGNED INTEGER)) from user;</code></pre>

  </div>
  <div class="post-footer">
    

    <a href="#top" class="top">↑</a>
  </div>
</article>
<footer>
  &copy; 2023
  <span class="author">
    betta
  </span>
</footer>

    </div>
  </body>
</html>
